<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>拖拽效果</title>
		
		<link rel="stylesheet" type="text/css" href="css/style2.css" />
		<script type="text/javascript" charset="UTF-8" src="js/test.js"></script>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			#box{
				width: 100px; height: 100px;background-color: red;
				position: absolute;
			}
			
		</style>
	</head>
	<body style="height: 3000px; position: relative;">
		
		<div id="box"></div>
		
		<script type="text/javascript">
			var jsDiv = document.getElementById("box")
			
			basex = 0
			basey = 0
			movex = 0
			movey = 0
			
			jsDiv.addEventListener("mousedown", function(e) {
				var ev = e || window.event
				
				basex = ev.pageX
				basey = ev.pageY
				
				document.onmousemove = function(e){
					var ee = e || window.event
					
					movex = ee.pageX - basex
					basex = ee.pageX
					
					movey = ee.pageY - basey
					basey = ee.pageY
					
					jsDiv.style.left = jsDiv.offsetLeft + movex + "px"
					jsDiv.style.top = jsDiv.offsetTop + movey + "px"
				}
			},false)
			
			document.addEventListener("mouseup", function() {
				document.onmousemove = null
			}, false)

		</script>
	</body>
</html>
